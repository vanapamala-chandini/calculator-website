<html>

<head>
    <title>Calculator</title>
    <style>
        td {
            width: 5em;
            height: 5em;
        }

        button {
            width: 100%;
            height: 100%;
            font-size: large;
        }

        #display {
            text-align: right;
            margin-bottom: 0.1em;
            font-size: 3em;
        }
    </style>
</head>

<body>
    <table>
        <tr>
            <td colspan="4">
                <h1 id="display">0</h1>
            </td>
        </tr>
        <tr>
            <td colspan="2"> <button onclick="allClear()" style="width: 100%;">AC</button></td>
            <td><button id="%" onclick="buttonHandler('%')">%</button></td>
            <td><button id="/" onclick="buttonHandler('/')">/</button></td>

        </tr>
        <tr>
            <td><button id="1" onclick="buttonHandler('1')">1</button></td>
            <td><button id="2" onclick="buttonHandler('2')">2</button></td>
            <td><button id="3" onclick="buttonHandler('3')">3</button></td>
            <td><button id="*" onclick="buttonHandler('*')">*</button></td>

        </tr>
        <tr>
            <td><button id="4" onclick="buttonHandler('4')">4</button></td>
            <td><button id="5" onclick="buttonHandler('5')">5</button></td>
            <td><button id="6" onclick="buttonHandler('6')">6</button></td>
            <td><button id="-" onclick="buttonHandler('-')">-</button></td>

        </tr>
        <tr>
            <td><button id="7" onclick="buttonHandler('7')">7</button></td>
            <td><button id="8" onclick="buttonHandler('8')">8</button></td>
            <td><button id="9" onclick="buttonHandler('9')">9</button></td>
            <td><button id="+" onclick="buttonHandler('+')">+</button></td>

        </tr>
        <tr>
            <td><button id="dot" onclick="buttonHandler('.')">.</button></td>
            <td><button id="0" onclick="buttonHandler('0')">0</button></td>
            <td><button onclick="backSpace()">&#9003;</button></td>
            <td><button id="eq" onclick="buttonHandler('=')">=</button></td>
        </tr>
    </table>
    <script>
        run_no = ''
        op = ''
        out = null

        //it handles the buttons click 
        function buttonHandler(type) {
            nums = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', '.']
            //if it is number
            if (nums.includes(type)) {
                run_no += type
                document.getElementById('display').innerHTML = run_no
            }
            //if it is operator/==
            else {
                if (out == null) {
                    out = parseFloat(run_no)
                } else {
                    if (run_no != '' & op != '') {
                        out = operation(out, parseFloat(run_no), op)
                    }
                }
                document.getElementById('display').innerHTML = out
                run_no = ''
                if (type != '=') {
                    op = type
                }
            }
        }

        function allClear() {
            document.getElementById('display').innerHTML = 0
            run_no = ''
            op = ''
            out = null
        }

        function backSpace() {
            if (run_no != '') {
                run_no = run_no.slice(0, -1)
                if (run_no != '') {
                    document.getElementById('display').innerHTML = run_no
                }else{
                    document.getElementById('display').innerHTML = 0
                }
            }
        }

        function operation(num1, num2, op) {
            temp = 0
            if (op == '+') {
                temp = num1 + num2
            }
            else if (op == '-') {
                temp = num1 - num2
            }
            else if (op == '*') {
                temp = num1 * num2
            }
            else if (op == '/') {
                temp = num1 / num2
            }
            else {
                temp = num1 % num2
            }
            return temp
        }
    </script>
</body>

</html>